<div class="container-fluid">
  <div class="row">

    <div class="col-md-12">
      <div class="card">
        <div class="card-header card-header-info card-header-icon">
          <!--<h4 class="card-title">Search  Vehicle</h4>-->
        </div>
        <div class="card-body">

          <div class="row">
            <div class="col-lg-3" style="margin-top: 10px ;color: red">

              Service Job Order Id :
            </div>
            <div class="col-lg-3">
              <input type="text" class="form-control" placeholder="JobOrderId"
                     [ngModelOptions]="{standalone: true}" [(ngModel)]="serviceJobOrderId" style="margin-left: -100px" (keyup)="searchServiceDetails($event)">

            </div>

            <div class="col-lg-3" style="margin-top: 10px ;color: red">

              Price :
            </div>
            <div class="col-lg-3">
              <input type="text" class="form-control" placeholder="JobOrderId"
                     [ngModelOptions]="{standalone: true}" [(ngModel)]="serviceTotAmount" style="margin-left: -180px" disabled>

            </div>
          </div>

          <br>
          <br>
          <div class="row">


            <div class="col-md-2">
              <div class="form-group">
                <label>Select Make</label>
                <br>
                <select class="form-control " data-style="select-with-transition" [(ngModel)]="insertselectedMake" #mySelect (change)="getMakeModelDetails(mySelect.value)" >

                  <option  *ngFor="let names of findAllMakesToArray" [ngValue]="names.makeName">{{names.makeName}}</option>

                </select>
              </div>
            </div>
            <!--<div class="row">-->
            <div class="col-md-2">
              <div class="form-group">
                <label>Select Model</label>
                <select class="form-control " data-style="select-with-transition" [(ngModel)]="insertItemModel">
                  <option *ngFor="let make of searchMakesByModel" [value]="make.modelName">
                    {{make.modelName}}
                  </option>

                </select>
              </div>

            </div>


            <br>
            <br>
            <div class="col-md-3">
              <div class="form-group">
                <label style="margin-top: 0px"> Search Item</label>
                <br>
                <input type="text" class="form-control" placeholder="Search Item"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="searchItem"
                       (keypress)="searchItemDetailsByName($event)" style="margin-top: 5px">
              </div>


            </div>

            <!--<div class="col-md-2">-->

            <!--<div class="form-group">-->
            <!--<label>Select Item</label>&lt;!&ndash;<div class="dropdown">&ndash;&gt;-->
            <!--<input type="text" class="form-control" placeholder="Search Item"-->
            <!--[ngModelOptions]="{standalone: true}" [(ngModel)]="insertItemName" id="insertItemName" (keypress)="getUnitPrice()"-->
            <!--&gt;-->

            <!--</div>&lt;!&ndash;</a>&ndash;&gt;-->

            <!--</div>-->
            <div class="col-md-3">
              <div class="form-group">
                <label style="margin-top: 0px">Item Name</label>
                <br>
                <input type="text" class="form-control" placeholder="Item Name"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="insertItemName" id="insertItemName"  style="margin-top: 5px" disabled>
              </div>
            </div>

            <div class="col-md-3">
              <div class="form-group">
                <label style="margin-top: 0px">Unit Price</label>
                <br>
                <input type="text" class="form-control" placeholder="Unit Price"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="unitPrice"  style="margin-top: 5px" disabled>
              </div>
            </div>

            <div class="col-md-3">
              <div class="form-group">
                <label>Item Id</label>
                <br>
                <input type="text" class="form-control" placeholder="Item Id"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="itemId" disabled>
              </div>
            </div>

            <div class="col-md-3">
              <div class="form-group">
                <label>Quantity</label>
                <br>
                <input type="text" class="form-control" placeholder="Quantity" id="Quantity"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="quantity">
              </div>
            </div>


            <div class="col-md-2">
              <button class="btn btn-success" rel="tooltip" type="button" (click)="addItemToTable()" style="margin-top: 20px">
                Add Detailing Jobs
              </button>
            </div>

          </div>

          <div class="table-responsive">
            <table class="table">
              <thead>
              <tr>
                <th>Item ID</th>
                <th>Item Description</th>
                <th>Make</th>
                <th>Model</th>
                <th> Quantity</th>
                <th>Price</th>
                <th></th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let items of jobOrderItemDetailsArray async">

                <td>
                  {{items.item.itemId}}
                </td>
                <td>
                  {{items.item.itemName}}
                </td>
                <td>
                  {{items.make}}
                </td>
                <td>
                  {{items.model}}
                </td>
                <td>
                  {{items.qty}}
                </td>
                <td>
                  {{items.price}}
                </td>

                <td class="td-actions ">
                  <button type="button" rel="tooltip" class="btn btn-danger"
                          (click)="deleteRow(items.item.itemId)">
                    <i class="fas fa-times"></i>
                  </button>
                </td>
              </tr>

              </tbody>
            </table>
          </div>

          <div class="row">
            <div class="col-sm-4"></div>
            <div class="col-sm-4"></div>
            <div class="col-sm-2"></div>
            <div class="col-sm-2">
              <div class="form-group">
                <label>Amount</label>
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                       [(ngModel)]="totAmountString">
              </div>
            </div>



          </div>
          <div class="row">
            <div class="col-sm-4"></div>
            <div class="col-sm-4"></div>

          </div>


          <!--////////////////////////////////////////////////////////////////////////////////////////////////////////-->

          <br>
          <br>
          <br>

          <div class="row">
            <div class="col-md-2">

              <div class="form-group">
                <label>Select Make</label>
                <br>
                <select class="form-control " data-style="select-with-transition" [(ngModel)]="insertselectedMake1" #mySelect (change)="getMakeModelDetails1(mySelect.value)" >
                  <option  *ngFor="let names of findAllMakesToArray" [ngValue]="names.makeName">{{names.makeName}}</option>

                </select>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <label>Select Model</label>
                <select class="form-control " data-style="select-with-transition"
                        [(ngModel)]="insertItemModel1">
                  <option *ngFor="let make of searchMakesByModel1" [value]="make.modelName">
                    {{make.modelName}}
                  </option>
                </select>
              </div>
            </div>

            <div class="col-md-2">

              <div class="form-group">
                <label style="margin-top: 0px"> Search Item</label>
                <br>
                <input type="text" class="form-control" placeholder="Item ID"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="searchItem1"
                       (keypress)="searchItemDetailsByName1($event)" style="margin-top: 5px">
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label style="margin-top: 0px">Item Name</label>
                <br>
                <input type="text" class="form-control" placeholder="itemName" style="margin-top: 5px"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="insertItemName1" id="insertItemName1" disabled>
              </div>
            </div>



            <div class="col-md-2">
              <div class="form-group">
                <label>Quantity</label>
                <br>
                <input type="text" class="form-control" placeholder="Quantity"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="quantity1" id="quantity1">
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-check">
                <label class="form-check-label" style="margin-top: 15px">
                  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1"
                         value="Change" [(ngModel)]="type" > Change
                  <span class="circle">
                                                        <span class="check"></span>
                                                      </span>
                </label>
              </div>
              <div class="form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2"
                         value="Top Up" [(ngModel)]="type"> Top-Up
                  <span class="circle">
                                                        <span class="check"></span>
                                                      </span>
                </label>
              </div>

            </div>

            <div class="col-md-3">
              <div class="form-group">
                <label>Unit Price</label>
                <br>
                <input type="text" class="form-control" placeholder="Unit Price"
                       [ngModelOptions]="{standalone: true}" [(ngModel)]="unitPrice1" disabled>
              </div>
            </div>


            <div class="col-md-2">
              <button class="btn btn-success" rel="tooltip" type="button" (click)="addToItemsTable1()" style="margin-top: 20px">
                ADDS
              </button>
            </div>

          </div>

          <div class="table-responsive">
            <table class="table">
              <thead>
              <tr>
                <th>Item Description</th>
                <th>Make</th>
                <th>Model</th>
                <th>Change-Top-Up</th>
                <th> Quantity</th>
                <th>Price</th>
                <th></th>
              </tr>
              </thead>
              <tbody>

              <tr *ngFor="let items of lubejobOrderItemDetailsArray1 async">
                <td>
                  {{items.item.itemName}}
                </td>
                <td>
                  {{items.make}}
                </td>
                <td>
                  {{items.model}}
                </td>
                <td>
                  {{items.lubeJobType}}
                </td>
                <td>
                  {{items.qty}}
                </td>
                <td>
                  {{items.price}}
                </td>

                <td class="td-actions ">
                  <button type="button" rel="tooltip" class="btn btn-danger"
                          (click)="deleteRow1(items.item.itemId)">
                    <i class="fas fa-times"></i>
                  </button>
                </td>
              </tr>
              </tbody>
            </table>


          </div>

          <div class="row">

            <div class="col-sm-10">

            </div>
            <div class="col-sm-2">
              <div class="form-group">
                <label>Amount</label>
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                       [(ngModel)]="totAmount1String" disabled>
              </div>
            </div>

          </div>

          <div class="row">

            <div class="col-sm-8">

            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label class="form-control">LubeJob Amount<span style="margin-left: 40px"> :{{totAmountString}}</span></label>
                <!--<label class="form-control "> {{grossAmount}}</label>-->
                <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
                <!--[(ngModel)]="totAmount">-->
              </div>
            </div>

          </div>
          <div class="row">

            <div class="col-sm-8">

            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label class="form-control">DetailJob Amount <span style="margin-left: 35px"> :{{totAmount1String}}</span> </label>
                <!--<label class="form-control "> {{grossAmount}}</label>-->
                <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
                <!--[(ngModel)]="totAmount">-->
              </div>
            </div>

          </div>

          <div class="row">

            <div class="col-sm-8">

            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label class="form-control">Service Amount  <span style="margin-left: 48px"> : {{serviceTotAmountString}} </span></label>
                <!--<label class="form-control "> {{grossAmount}}</label>-->
                <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
                <!--[(ngModel)]="totAmount">-->
              </div>
            </div>

          </div>

          <div class="row">

            <div class="col-sm-8">

            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label class="form-control">Gross Amount  <span style="margin-left: 55px"> : {{grossAmountString}}</span></label>
                <!--<label class="form-control "> {{grossAmount}}</label>-->
                <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
                <!--[(ngModel)]="totAmount">-->
              </div>
            </div>

          </div>

          <div class="row">

            <div class="col-sm-8">

            </div>

            <div class="col-sm-8">

            </div>
            <div class="col-sm-4">

              <div class="row">

                <div class="col-sm-6">
                  Paid Amount
                </div>
                <div class="col-sm-6">

                  <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                         [(ngModel)]="paidAmount" style="margin-top: -20px ;margin-left: -10px" (keyup)="calculateCreditBalance()">
                </div>

              </div>
              <div class="form-group">
              </div>
            </div>

          </div>

          <div class="row">

            <div class="col-sm-8">

            </div>
            <div class="col-sm-4">

              <div class="row">

                <div class="col-sm-6">
                  Credit Balance
                </div>
                <div class="col-sm-6">

                  <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                         [(ngModel)]="newcreditBalanceString" style="margin-top: -20px ;margin-left: -10px" disabled>
                </div>

              </div>
              <div class="form-group">
              </div>
            </div>

          </div>


          <div class="row">
            <div class="col-sm-4"></div>
            <div class="col-sm-4"></div>


            <div class="col-sm-4">
              <!--<button type="submit" class="btn btn-behance pull-right" (click)="addJobOrderToDatabase()">Preview-->
              <!--</button>-->
              <button class="btn btn-info pull-right"  data-toggle="modal" data-target="#noticeModal" style="margin-left: 50px"  >Preview</button>

            </div>

          </div>


        </div>
      </div>
    </div>

  </div>

</div>



<div class="modal fade" id="noticeModal" tabindex="0" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog modal-notice">
    <div class="modal-content" style=" margin-left:-200px;width: 1000px">
      <div class="modal-header">
        <h5 class="modal-title" id="myModalLabel">Print Preview Of Job Details</h5>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body" >
        <div class="instruction">

          <div class="row">
            <div class="col-sm-3">
              <div class="form-group">
                <label style="color: red">Service Job Id : </label>
              </div>

            </div>
            <div class="col-sm-3">
              <div class="form-group">

                <label style="color: black ; font-size: 20px ;margin-left: -40px;margin-top: -10px" > {{this.serviceJobOrderId}} </label>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>

            </div>

            <div class="col-sm-3">
              <div class="form-group">
                <label>Date: </label>

              </div>

            </div>
            <div class="col-sm-3">
              <div class="form-group">

                <label style="color: black ; font-size: 20px ;margin-left: -40px;margin-top: -10px" > {{ todayDate}} </label>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>

            </div>
          </div>

          <div class="row">

            <div class="col-sm-5">
              <div class="form-group">
                <label>Customer Name</label>
                <br>
                <input type="text" id="custName1" class="form-control" name="engineNumber" [(ngModel)]="vehicleCustomerDTO.customerName" disabled>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>

            </div>
            <div class="col-md-5">
              <div class="form-group">
                <label>Customer Phone Number</label>
                <br>
                <input type="text" id="custPhoneNum1" class="form-control" name="engineNumber" [(ngModel)]="vehicleCustomerDTO.customerPhone" disabled>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-5">
              <div class="form-group">
                <label>Customer Email</label>
                <br>
                <input type="text" id="custEmail1" class="form-control" name="engineNumber" [(ngModel)]="vehicleCustomerDTO.customerEmail" disabled>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>
            </div>
          </div>

          <div class="row">

            <div class="col-sm-4">
              <div class="form-group">
                <label>Vehilce Number</label>
                <br>
                <input type="text" id="vehiNumber1" class="form-control" (keyup)="searchVehicleDetailsByNumber()"
                       [(ngModel)]="vehicleCustomerDTO.vehicleNumber" disabled>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>

            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>
                  Chassis number</label>
                <br>
                <input type="text" id="vehiEngineNumber2" class="form-control" name="engineNumber"
                       [(ngModel)]="vehicleCustomerDTO.chassisNumber" disabled>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>
            </div>


          </div>

          <div class="row">
            <!--<div class="col-sm-3">-->
            <!--<div class="form-group">-->
            <!--<label>Vehicle Class</label>-->
            <!--<br>-->
            <!--<input type="text" id="vehiClass1" class="form-control" name="engineNumber" [(ngModel)]="vehicleCustomerDTO." disabled>-->
            <!--&lt;!&ndash;name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"&ndash;&gt;-->
            <!--</div>-->
            <!--</div>-->
            <div class="col-sm-3">
              <div class="form-group">
                <label>Make</label>
                <br>
                <input type="text" id="vehiMake1" class="form-control" name="engineNumber" [(ngModel)]="vehicleCustomerDTO.make" disabled>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label>Model</label>
                <br>
                <input type="text" id="vehiModel1" class="form-control" name="engineNumber" [(ngModel)]="vehicleCustomerDTO.model" disabled>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label>Year</label>
                <br>
                <input type="text" id="vehiYear1" class="form-control" name="engineNumber" [(ngModel)]="vehicleCustomerDTO.year" disabled>
                <!--name="engineNumber" [(ngModel)]="vehNgModel.engineNumber"-->
              </div>
            </div>
          </div>

        </div>
        <div class="instruction">

          <label class="form-control col-sm-3" style="font-size: 20px;color: red">Lube Job Details</label>
          <div class="table-responsive">
            <table class="table">
              <thead>
              <tr>
                <th>Item ID</th>
                <th>Item Description</th>
                <th>Make</th>
                <th>Model</th>
                <th>Quantity</th>
                <th>Price</th>
                <th></th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let items of jobOrderItemDetailsArray async">

                <td>
                  {{items.item.itemId}}
                </td>
                <td>
                  {{items.item.itemName}}
                </td>
                <td>
                  {{items.make}}
                </td>
                <td>
                  {{items.model}}
                </td>
                <td>
                  {{items.qty}}
                </td>
                <td>
                  {{items.price}}
                </td>


              </tr>

              <tr>
                <td>

                </td>
                <td>

                </td>
                <td>

                </td>
                <td>

                </td><td>

              </td>

                <td>
                  Total : {{totAmountString }}
                </td>
              </tr>

              </tbody>
            </table>
          </div>

          <br>
          <br>
          <br>

          <label class="form-control col-sm-3" style="font-size: 20px;color: red">Detail Job Details</label>

          <div class="table-responsive">
            <table class="table">
              <thead>
              <tr>
                <th>Item Description</th>
                <th>Make</th>
                <th>Model</th>
                <th>Change-Top-Up</th>
                <th> Quantity</th>
                <th>Price</th>
                <th></th>
              </tr>
              </thead>
              <tbody>

              <tr *ngFor="let items of lubejobOrderItemDetailsArray1 async">
                <td>
                  {{items.item.itemName}}
                </td>
                <td>
                  {{items.make}}
                </td>
                <td>
                  {{items.model}}
                </td>
                <td>
                  {{items.lubeJobType}}
                </td>
                <td>
                  {{items.qty}}
                </td>
                <td>
                  {{items.price}}
                </td>


              </tr>

              <tr>
                <td>

                </td>
                <td>

                </td>
                <td>

                </td>
                <td>

                </td><td>

              </td>

                <td>
                  Total : {{totAmount1String }}
                </td>
              </tr>
              </tbody>
            </table>


          </div>
        </div>


        <div class="row">

          <div class="col-sm-8">

          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label class="form-control">LubeJob Amount <span style="margin-left: 40px"> :{{totAmountString}}</span> </label>
              <!--<label class="form-control "> {{grossAmount}}</label>-->
              <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
              <!--[(ngModel)]="totAmount">-->
            </div>
          </div>

        </div>
        <div class="row">

          <div class="col-sm-8">

          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label class="form-control">DetailJob Amount <span style="margin-left: 35px"> :{{totAmount1String}}</span> </label>
              <!--<label class="form-control "> {{grossAmount}}</label>-->
              <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
              <!--[(ngModel)]="totAmount">-->
            </div>
          </div>

        </div>

        <div class="row">

          <div class="col-sm-8">

          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label class="form-control">Service Amount  <span style="margin-left: 45px"> :{{serviceTotAmountString}}</span> </label>
              <!--<label class="form-control "> {{grossAmount}}</label>-->
              <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
              <!--[(ngModel)]="totAmount">-->
            </div>
          </div>

        </div>

        <div class="row">

          <div class="col-sm-8">

          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label class="form-control">Gross Amount   <span style="margin-left: 55px"> :{{grossAmountString}} </span></label>
              <!--<label class="form-control "> {{grossAmount}}</label>-->
              <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
              <!--[(ngModel)]="totAmount">-->
            </div>
          </div>

        </div>

        <div class="row">

          <div class="col-sm-8">

          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label class="form-control">PaymentType  <span style="margin-left: 58px"> :{{PaymentType}} </span> </label>
              <!--<label class="form-control "> {{grossAmount}}</label>-->
              <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
              <!--[(ngModel)]="totAmount">-->
            </div>
          </div>

        </div>

        <div class="row">

          <div class="col-sm-8">

          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label class="form-control">Paid Amount  <span style="margin-left: 63px"> : {{paidAmount}}</span></label>
              <!--<label class="form-control "> {{grossAmount}}</label>-->
              <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
              <!--[(ngModel)]="totAmount">-->
            </div>
          </div>

        </div>

        <div class="row">

          <div class="col-sm-8">

          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label class="form-control">Credit Balance  <span style="margin-left: 52px"> : {{newcreditBalanceString}}</span></label>
              <!--<label class="form-control "> {{grossAmount}}</label>-->
              <!--<input type="text" class="form-control" [ngModelOptions]="{standalone: true}"-->
              <!--[(ngModel)]="totAmount">-->
            </div>
          </div>

        </div>

      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-info btn-round" data-dismiss="modal" (click)="addJobOrderToDatabase()">Performa Invoice</button>
      </div>
    </div>
  </div>
</div>
